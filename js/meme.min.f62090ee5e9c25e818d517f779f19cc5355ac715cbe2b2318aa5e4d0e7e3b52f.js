;const throttle=(fn,wait)=>{let inThrottle,lastFn,lastTime;return function(){const context=this,args=arguments;if(!inThrottle){fn.apply(context,args);lastTime=Date.now();inThrottle=true;}else{clearTimeout(lastFn);lastFn=setTimeout(function(){if(Date.now()-lastTime>=wait){fn.apply(context,args);lastTime=Date.now();}},Math.max(wait-(Date.now()-lastTime),0));}};};const delayTime=420;;window.addEventListener("DOMContentLoaded",event=>{const header=document.querySelector('.header');if(header){const headerHeight=window.getComputedStyle(header,null).getPropertyValue('height');document.documentElement.style.setProperty('--header-height',headerHeight);}},{once:true});;window.addEventListener("DOMContentLoaded",event=>{const navToggleLabel=document.querySelector('.nav-toggle');const navToggleLabelInner=document.createElement('div');navToggleLabelInner.className='nav-toggle-inner';navToggleLabel.appendChild(navToggleLabelInner);for(let i=0;i<3;i++){const span=document.createElement('span');navToggleLabelInner.appendChild(span);}
const navToggle=document.getElementById('nav-toggle');const header=document.querySelector('.header');const navCurtain=document.querySelector('.nav-curtain');navToggle.addEventListener('change',(e)=>{if(e.target.checked){header.classList.add('open');navToggleLabel.classList.add('open');header.classList.remove('fade');navCurtain.style='display: block';}else{header.classList.remove('open');navToggleLabel.classList.remove('open');header.classList.add('fade');}});navCurtain.addEventListener('animationend',(e)=>{if(!navToggle.checked){e.target.removeAttribute('style');}});window.addEventListener('scroll',throttle(function(){checkInput();},delayTime));const maxWidth=window.getComputedStyle(document.documentElement,null).getPropertyValue('--max-width');let mediaQuery=window.matchMedia(`(max-width: ${maxWidth})`);mediaQuery.addListener(e=>{if(!e.matches){closeNav(true);}});function checkInput(){const input=document.getElementById('search-input');if(input&&input===document.activeElement){return;}
closeNav();}
function closeNav(noFade){if(navToggle.checked){navToggle.checked=false;header.classList.remove('open');navToggleLabel.classList.remove('open');if(noFade){navCurtain.removeAttribute("style");}
else{header.classList.add('fade');}}}},{once:true});;window.addEventListener("DOMContentLoaded",event=>{const backToTop=document.getElementById('back-to-top');if(backToTop!==null){window.addEventListener('scroll',throttle(function(){window.scrollY>100?backToTop.classList.add('show'):backToTop.classList.remove('show');},delayTime));}},{once:true});;const userPrefers=localStorage.getItem('theme');if(userPrefers==='dark'){changeModeMeta('dark');}else if(userPrefers==='light'){changeModeMeta('light');}
window.matchMedia('(prefers-color-scheme: dark)').addListener((e)=>{changeMode();});window.addEventListener("DOMContentLoaded",event=>{changeMode();const themeSwitcher=document.getElementById('theme-switcher');if(themeSwitcher){themeSwitcher.addEventListener('click',(e)=>{e.preventDefault();if(getCurrentTheme()=="dark"){changeModeMeta('light');}else{changeModeMeta('dark');}
changeMode();storePrefers();});}},{once:true});window.addEventListener('storage',function(event){if(event.key!=='theme'){return;}
if(event.newValue==='dark'){changeModeMeta('dark');}else{changeModeMeta('light');}
changeMode();});function getCurrentTheme(){return JSON.parse(window.getComputedStyle(document.documentElement,null).getPropertyValue("--theme-name"));}
function changeModeMeta(theme){document.documentElement.setAttribute('data-theme',theme);}
function changeMode(){const isDark=getCurrentTheme()==='dark';const themeColor=isDark?'#1c1c21':'#fff';document.querySelector('meta[name="theme-color"]').setAttribute('content',themeColor);if(isDark){changeUtterancesTheme('github-dark-orange');}else{changeUtterancesTheme('github-light');}
function changeUtterancesTheme(theme){const iframe=document.querySelector('.utterances-frame');if(iframe!==null){const message={type:'set-theme',theme:theme};iframe.contentWindow.postMessage(message,'https://utteranc.es');}}}
function storePrefers(){window.localStorage.setItem('theme',getCurrentTheme());};window.addEventListener("DOMContentLoaded",event=>{const copyText='<svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M384 112v352c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h80c0-35.29 28.71-64 64-64s64 28.71 64 64h80c26.51 0 48 21.49 48 48zM192 40c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24m96 114v-20a6 6 0 0 0-6-6H102a6 6 0 0 0-6 6v20a6 6 0 0 0 6 6h180a6 6 0 0 0 6-6z"/></svg>';const copiedText='<svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM192 40c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm121.2 231.8l-143 141.8c-4.7 4.7-12.3 4.6-17-.1l-82.6-83.3c-4.7-4.7-4.6-12.3.1-17L99.1 285c4.7-4.7 12.3-4.6 17 .1l46 46.4 106-105.2c4.7-4.7 12.3-4.6 17 .1l28.2 28.4c4.7 4.8 4.6 12.3-.1 17z"/></svg>';document.querySelectorAll('.post-body > pre').forEach((e)=>{let div=document.createElement('div');e.parentNode.replaceChild(div,e);div.appendChild(e);});function addCopyButtons(clipboard){const divs=document.querySelectorAll('table.lntable, .highlight > pre, .post-body > div > pre');divs.forEach((containerEl)=>{containerEl.parentNode.style.position='relative';const button=document.createElement('button');button.className='copy-button';button.type='button';button.innerHTML=copyText;if(containerEl.classList.contains('lntable')){var codeBlock=containerEl.querySelectorAll('.lntd')[1];}else{var codeBlock=containerEl.querySelector('code');}
button.addEventListener('click',()=>{clipboard.writeText(codeBlock.innerText).then(()=>{button.blur();button.innerHTML=copiedText;setTimeout(()=>{button.innerHTML=copyText;},1000);}).catch((error)=>{button.innerText='Error';console.error(error);});});containerEl.appendChild(button);containerEl.parentNode.addEventListener('mouseover',()=>{button.style='visibility: visible; opacity: 1';});containerEl.parentNode.addEventListener('mouseout',()=>{button.style='visibility: hidden; opacity: 0';});});}
if(navigator&&navigator.clipboard){addCopyButtons(navigator.clipboard);}else{const script=document.createElement('script');script.src='https://cdn.jsdelivr.net/npm/clipboard-polyfill@2.8.6/dist/clipboard-polyfill.min.js';script.defer=true;script.onload=function(){addCopyButtons(clipboard);};document.head.appendChild(script);}},{once:true});;window.addEventListener("DOMContentLoaded",event=>{const commentsToggle=document.getElementById('load-comments');if(commentsToggle!==null){commentsToggle.addEventListener('click',function(){loadComments();this.style="display: none";});}},{once:true});;const secretKey=['Ctrl','Ctrl']
const secretKeyCode=[17,17];let secretKeyCodeStatus=new Array(secretKeyCode.length).fill(0);const CORRECT_STATUS=1;document.onkeyup=function(event){let correctCodeIndex=secretKeyCodeStatus.lastIndexOf(CORRECT_STATUS);correctCodeIndex=correctCodeIndex===-1?0:correctCodeIndex+1;if(event.keyCode===secretKeyCode[correctCodeIndex]){if(correctCodeIndex+1===secretKeyCodeStatus.length){document.getElementById("search-block").click();setTimeout(function(){document.getElementById("aa-search-input").focus();},100);setTimeout(function(){document.getElementById("aa-search-input").focus();},200);secretKeyCodeStatus=new Array(secretKeyCode.length).fill(0);return true;}else{secretKeyCodeStatus[correctCodeIndex]=CORRECT_STATUS;setTimeout(function(){secretKeyCodeStatus=new Array(secretKeyCode.length).fill(0);},500);}}else{secretKeyCodeStatus=new Array(secretKeyCode.length).fill(0);}};window.onload=function(){const commentsToggle=document.getElementById('load-comments');if(commentsToggle!==null){loadComments();commentsToggle.style="display: none";}}